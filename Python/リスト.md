# リスト

## リストから新しいリストを生成する

```python
numbers = [1, 2, 3, 4, 5]

# リストの中身全てに1を足す
data = [number + 1 for number in numbers]
print('data >>>>', data)
```

```python
data >>>> [2, 3, 4, 5, 6]
```

↑ と同じ

```python
numbers = [1, 2, 3, 4, 5]

# リストの中身に1を足す
data   = []
for number in numbers:
    data.append(number + 1)
print('data >>>>', data)
```

```python
data >>>> [2, 3, 4, 5, 6]
```

## リストの末尾に要素を追加

- `リスト.append(値)`

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ']

pokemons.append('キャタピー')
print(pokemons)
```

```python
['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'キャタピー']
```

## リストの任意の位置に要素を追加

- `リスト.insert(追加したい位置, 値)`

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ']

# 2番目の直前に挿入
pokemons.insert(2, 'リザード')
print(pokemons)
```

```python
['フシギダネ', 'ヒトカゲ', 'リザード', 'ゼニガメ']
```

## リストの要素を削除

- `リスト.pop(削除したい位置)`

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ']

pokemons.pop(1)
print(pokemons)
```

```python
['フシギダネ', 'ゼニガメ']
```

削除位置が未指定の場合、末尾が対象になる

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ']

pokemons.pop()
print(pokemons)
```

```python
['フシギダネ', 'ヒトカゲ']
```

## リストから、指定された要素を削除

- `リスト.remove(値)`

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']

pokemons.remove('チコリータ')
print(pokemons)
```

```python
['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'ヒノアラシ', 'ワニノコ']
```

同じ値が複数あった場合、最初に一致した値しか削除されない

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ', 'チコリータ']

pokemons.remove('チコリータ')
print(pokemons)
```

```python
['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'ヒノアラシ', 'ワニノコ', 'チコリータ']
```

指定の値をすべて取り除きたい場合

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ', 'チコリータ']

# チコリータ以外の要素のみを取得して、新しいリストを作る
result = [pokemon for pokemon in pokemons if pokemon != 'チコリータ'] 
print(result)
```

```python
['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'ヒノアラシ', 'ワニノコ']
```

## リストの中身を全削除

- `リスト.clear()`

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']

pokemons.clear()
print(pokemons)
```

```python
[]
```

## リスト内要素の更新

##### 1個だけ更新

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']

pokemons[0] = 'キモリ'
print(pokemons)
```

```python
['キモリ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']
```

##### 複数更新

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']

pokemons[1:3] = ['フシギソウ', 'フシギバナ']
print(pokemons)
```

```python
['フシギダネ', 'フシギソウ', 'フシギバナ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']
```

↑ 空のリストで上書きすると、削除になる

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']

pokemons[1:3] = []
print(pokemons)
```

```python
['フシギダネ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']
```

## リストの検索

- `リスト.index(検索する値)`

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']

result = pokemons.index('チコリータ')
print(result)
```

```python
3
```

見つからないとエラーになる

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']

result = pokemons.index('キャタピー')
print(result)
```

```python
Traceback (most recent call last):
  File "Main.py", line 5, in <module>
    result = pokemons.index('キャタピー')
ValueError: 'キャタピー' is not in list
```

## リスト内での登場回数をカウントする

- `リスト.count(検索する値)`

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ', 'フシギダネ']

result = pokemons.count('フシギダネ')
print(result)
```

```python
2
```

見つからないと 0 になる

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ']

result = pokemons.count('キャタピー')
print(result)
```

```python
0
```

★ リスト内の存在チェックだけしたいのであれば、 `in` で十分

```python
pokemons = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ', 'チコリータ', 'ヒノアラシ', 'ワニノコ', 'フシギダネ']

result1 = 'キャタピー' in pokemons
print('result1 >>', result1)

result2 = 'フシギダネ' in pokemons
print('result2 >>', result2)
```

```python
result1 >> False
result2 >> True
```

## リストのコピー

- `リスト.copy()`

```python
pokemons      = ['フシギダネ', 'ヒトカゲ', 'ゼニガメ']
pokemons_copy = pokemons.copy()

pokemons_copy[0] = 'チコリータ'

print('pokemons >>', pokemons)
print('pokemons_copy >>', pokemons_copy)
```

シャローコピー → 一階層のリストであれば、中身を変更してもお互いに影響がない

```python
pokemons >> ['フシギダネ', 'ヒトカゲ', 'ゼニガメ']
pokemons_copy >> ['チコリータ', 'ヒトカゲ', 'ゼニガメ']
```

二階層以上のリストになると、コピーしたリスト内部の変更は影響が出る

```python
pokemons = [
    ['フシギダネ', 'ヒトカゲ', 'ゼニガメ'],
    ['チコリータ', 'ヒノアラシ', 'ワニノコ']
]
pokemons_copy = pokemons.copy()

pokemons_copy[0][0] = 'キモリ'

# コピーの変更が、オリジナルにも反映される
print('pokemons >>', pokemons)
print('pokemons_copy >>', pokemons_copy)
```

```python
pokemons >> [['キモリ', 'ヒトカゲ', 'ゼニガメ'], ['チコリータ', 'ヒノアラシ', 'ワニノコ']]
pokemons_copy >> [['キモリ', 'ヒトカゲ', 'ゼニガメ'], ['チコリータ', 'ヒノアラシ', 'ワニノコ']]
```

## ディープコピー

**copy** モジュールの `deepcopy` を使う

```python
import copy

pokemons = [
    ['フシギダネ', 'ヒトカゲ', 'ゼニガメ'],
    ['チコリータ', 'ヒノアラシ', 'ワニノコ']
]
pokemons_copy = copy.deepcopy(pokemons)

pokemons_copy[0][0] = 'キモリ'

# ディープコピーになった
print('pokemons >>', pokemons)
print('pokemons_copy >>', pokemons_copy)
```

```python
pokemons >> [['フシギダネ', 'ヒトカゲ', 'ゼニガメ'], ['チコリータ', 'ヒノアラシ', 'ワニノコ']]
pokemons_copy >> [['キモリ', 'ヒトカゲ', 'ゼニガメ'], ['チコリータ', 'ヒノアラシ', 'ワニノコ']]
```

## リストの連結

```python
pokemons1 = ['フシギダネ']
pokemons2 = ['ヒトカゲ', 'ゼニガメ']

print('pokemons1 + pokemons2 >>', pokemons1 + pokemons2)
print('pokemons2 * 2 >>', pokemons2 * 2)
```

```python
pokemons1 + pokemons2 >> ['フシギダネ', 'ヒトカゲ', 'ゼニガメ']
pokemons2 * 2 >> ['ヒトカゲ', 'ゼニガメ', 'ヒトカゲ', 'ゼニガメ']
```

## 既存のリストに連結する

- `リスト.extend(連結するリスト)`

```python
pokemons1 = ['フシギダネ']
pokemons2 = ['ヒトカゲ', 'ゼニガメ']

pokemons1.extend(pokemons2)
print(pokemons1)
```

```python
['フシギダネ', 'ヒトカゲ', 'ゼニガメ']
```
